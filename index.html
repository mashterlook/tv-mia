<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hub de Canales y Radio</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(to bottom, #1a1a1a, #222);
            color: #eee;
            margin: 0;
            padding: 0;
            display: flex;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Estilos para escritorio por defecto */
        .left-panel {
            width: 300px;
            background-color: #282828;
            padding: 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100%;
            overflow-y: auto;
            border-right: 1px solid #383838;
        }

        .right-panel {
            margin-left: 300px;
            flex-grow: 1;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        /* Contenedor flexible para video */
        .video-container {
            width: 100%;
            max-width: 960px;
            margin-bottom: 20px;
            border: 1px solid #383838;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            background-color: #222;
            aspect-ratio: 16 / 9;
            position: relative;
        }

        .hamburger-menu {
            display: none;
        }
        
        /* ------------------------------------------- */
        /* Estilos para móviles (pantallas de 768px o menos) */
        /* ------------------------------------------- */
        @media (max-width: 768px) {
            .left-panel {
                width: 100%;
                left: -100%;
                transition: left 0.3s ease-in-out;
                z-index: 1000;
                padding-top: 60px;
            }

            .left-panel.active {
                left: 0;
            }

            .right-panel {
                margin-left: 0;
                width: 100%;
                padding: 10px;
            }

            .hamburger-menu {
                display: block;
                position: fixed;
                top: 15px;
                left: 15px;
                z-index: 1001;
                background: #444;
                color: #eee;
                border: none;
                border-radius: 5px;
                padding: 10px 12px;
                font-size: 1.2rem;
                cursor: pointer;
                transition: background-color 0.2s;
            }

            .hamburger-menu:hover {
                background-color: #555;
            }

            .search-container {
                display: none;
            }
            
            .category-item {
                margin-bottom: 0;
            }

            .tab-button {
                padding: 15px;
                border-radius: 0;
            }
            .channel-list-container {
                padding-left: 0;
            }
            .channel-button {
                border-radius: 0;
                padding: 12px 15px;
            }
        }
        
        /* Efecto de foco para navegación con teclado */
        *:focus {
            outline: 2px solid #00c7ff;
            outline-offset: 1px;
            box-shadow: 0 0 8px rgba(0, 199, 255, 0.6);
        }

        /* Estilos de la barra de búsqueda */
        .search-container {
            display: flex;
            align-items: center;
            background-color: #333;
            border-radius: 25px;
            padding: 8px 15px;
            margin-bottom: 25px;
        }

        .search-container input {
            flex-grow: 1;
            background: transparent;
            border: none;
            color: #ddd;
            padding: 10px 12px;
            outline: none;
            font-size: 0.9rem;
        }

        .search-container input::placeholder {
            color: #777;
        }

        .search-container button {
            background: transparent;
            border: none;
            color: #777;
            cursor: pointer;
            font-size: 1.1rem;
            padding: 5px;
            transition: color 0.2s;
        }

        .search-container button:hover {
            color: #00c7ff;
        }

        .category-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 12px;
        }
        
        .tab-button {
            padding: 10px 18px;
            background-color: #444;
            color: #ddd;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
            text-align: center;
            border: none;
            font-size: 1.1rem;
        }

        .tab-button:hover,
        .tab-button.active {
            background-color: #00c7ff;
            color: #222;
        }

        .channel-list-container {
            display: none;
            flex-direction: column;
            gap: 8px;
            padding-left: 15px;
            margin-top: 8px;
        }

        .channel-list-container.active {
            display: flex;
        }

        .channel-button {
            background-color: #333;
            border: 1px solid #444;
            border-radius: 20px;
            padding: 8px 12px;
            cursor: pointer;
            font-weight: bold;
            color: #ddd;
            transition: background-color 0.2s, transform 0.1s;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            font-size: 1.1rem;
        }

        .channel-button:hover {
            background-color: #444;
            transform: scale(1.02);
        }

        .channel-button:hover .favorite-star {
            color: #ffdd57;
        }

        .channel-button span {
            flex-grow: 1;
            text-align: left;
        }

        .favorite-star {
            font-size: 1rem;
            cursor: pointer;
            color: #777;
            transition: color 0.2s;
            margin-left: 10px;
        }

        .favorite-star.is-favorite {
            color: #ffdd57;
        }

        .channel-button.is-favorite:hover .favorite-star {
            color: #ffdd57;
        }

        #player-iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Estilos del nuevo botón de la guía */
        .info-bar {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            gap: 15px;
        }

        #channel-name-display {
            font-weight: bold;
            font-size: 1.2rem;
            color: #00c7ff;
            display: none;
        }
        
        #guide-button {
            display: none; /* Se muestra con JavaScript */
            background-color: #00c7ff;
            color: #222;
            font-weight: bold;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        #guide-button:hover {
            background-color: #00a7db;
        }

        /* SECCIÓN DE RADIO - CAMBIOS APLICADOS AQUÍ */
        #radio-container {
            display: none; /* Se oculta por defecto para que no se superponga */
        }

        .radio-tabs-container {
            display: flex;
            flex-direction: column; /* Apila los botones de radio verticalmente */
            gap: 8px;
            padding: 10px;
            background: #333;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .radio-tabs-container button {
            background: #444;
            color: #ccc;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s, color 0.3s;
            font-size: 1rem;
        }
        .radio-tabs-container button.active {
            background: #00c7ff;
            color: #222;
        }
        .radio-content {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
            max-width: 400px;
            width: 100%;
        }
        .radio-content.active {
            display: block;
        }
        .radio-player-box {
            text-align: center;
            background: linear-gradient(145deg,#222,#333);
            color:#fff;
            padding: 20px;
            border-radius: 10px;
            font-family:'Segoe UI',sans-serif;
            box-shadow:0 2px 8px rgba(0,0,0,0.4);
        }
        .radio-player-box img {
            width: 100px;
            border-radius: 50%;
            box-shadow: 0 0 8px #ff80c0;
            margin-bottom: 10px;
        }
        .radio-player-box h3 {
            margin:0;
            font-size:1.2em;
            color:#00c7ff;
        }
        .radio-player-box p {
            margin:5px 0 12px;
            color:#ff99cc;
            font-size: 0.9rem;
        }
        .radio-player-box audio {
            width:100%;
            height: 40px;
            border-radius: 8px;
            background:#333;
            color:#fff;
        }

        /* Modal y animaciones */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .password-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .password-box {
            background: #333;
            padding: 25px;
            border-radius: 8px;
            text-align: center;
            max-width: 350px;
            width: 90%;
            color: #eee;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .password-box h2 {
            margin-bottom: 15px;
            color: #00c7ff;
            font-size: 1.4rem;
        }

        .password-box p {
            margin-bottom: 15px;
            font-size: 0.95rem;
        }

        .password-box input {
            width: 85%;
            padding: 10px;
            margin-bottom: 18px;
            border-radius: 5px;
            border: none;
            background-color: #444;
            color: #ddd;
            box-sizing: border-box;
        }

        .password-box button {
            background: #00c7ff;
            color: #222;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
            font-size: 0.9rem;
        }

        .password-box button:hover {
            background: #00a7db;
        }

        .error-message {
            color: #ff7777;
            margin-top: 10px;
            display: none;
            font-size: 0.9rem;
        }

        /* Estilos del modal para la guía */
        .guide-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease-in-out;
        }

        .guide-modal-content {
            position: relative;
            background: #222;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            width: 95%;
            max-width: 1200px;
            height: 90%;
            display: flex;
            flex-direction: column;
        }
        
        .guide-modal-close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            color: #fff;
            font-size: 2.2rem;
            font-weight: bold;
            cursor: pointer;
            background: transparent;
            border: none;
            z-index: 2001;
            line-height: 1;
        }

        .guide-modal-close-btn:hover {
            color: #ff5555;
        }

        .guide-modal-iframe {
            width: 100%;
            height: 100%;
            border: none;
            background-color: #fff;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <button id="hamburgerBtn" class="hamburger-menu"><i class="fa-solid fa-bars"></i></button>

    <aside class="left-panel">
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Buscar canal o radio..." />
            <button><i class="fa-solid fa-magnifying-glass"></i></button>
        </div>
        
        <div class="category-item">
            <div class="tab-button" data-tab="tab8" tabindex="0">FAVORITOS</div>
            <div id="tab8" class="channel-list-container">
                </div>
        </div>

        <div class="category-item">
            <div class="tab-button" data-tab="tab1" tabindex="0">NACIONALES</div>
            <div id="tab1" class="channel-list-container">
                <div class="channel-button" data-url="https://embed.sdfgnksbounce.com/embed2/willaxtv.html" data-name="Willaxtv" data-type="video" data-gatotv-url="willaxtv" tabindex="0"><span class="channel-name">Willaxtv</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/atv-en-vivo.html" data-name="ATV" data-type="video" data-gatotv-url="atv" tabindex="0"><span class="channel-name">ATV</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/latina-en-vivo.html" data-name="Latina" data-type="video" data-gatotv-url="frecuencia_latina" tabindex="0"><span class="channel-name">Latina</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/america-tv-en-vivo.html" data-name="AméricaTV" data-type="video" data-gatotv-url="america_television_peru" tabindex="0"><span class="channel-name">AméricaTV</span><i class="fa-regular fa-star favorite-star"></i></div>
            </div>
        </div>
        <div class="category-item">
            <div class="tab-button" data-tab="tab2" tabindex="0">INFANTIL</div>
            <div id="tab2" class="channel-list-container">
                <div class="channel-button" data-url="https://www.cablevisionhd.com/cartoon-network-en-vivo.html" data-name="Cartoon Network" data-type="video" data-gatotv-url="cartoon_network_mexico" tabindex="0"><span class="channel-name">Cartoon Network</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/disney-channel-en-vivo.html" data-name="Disney Channel" data-type="video" data-gatotv-url="disney_channel_mexico" tabindex="0"><span class="channel-name">Disney Channel</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/disney-junior-en-vivo.html" data-name="Disney JR" data-type="video" data-gatotv-url="disney_junior_sur" tabindex="0"><span class="channel-name">Disney JR</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.televisiongratishd2.com/discovery-kids-en-vivo.html" data-name="Discovery Kids" data-type="video" data-gatotv-url="discovery-kids" tabindex="0"><span class="channel-name">Discovery Kids</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/tooncast-en-vivo.html" data-name="Tooncast" data-type="video" data-gatotv-url="tooncast" tabindex="0"><span class="channel-name">Tooncast</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/nick-en-vivo.html" data-name="Nickelodeon" data-type="video" data-gatotv-url="nickelodeon_mexico" tabindex="0"><span class="channel-name">Nickelodeon</span><i class="fa-regular fa-star favorite-star"></i></div>
            </div>
        </div>
        <div class="category-item">
            <div class="tab-button" data-tab="tab3" tabindex="0">CULTURA</div>
            <div id="tab3" class="channel-list-container">
                <div class="channel-button" data-url="https://www.cablevisionhd.com/discovery-channel-en-vivo.html" data-name="Discovery Channel" data-type="video" data-gatotv-url="discovery_channel_mexico" tabindex="0"><span class="channel-name">Discovery Channel.</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/discovery-theater-en-vivo.html" data-name="Discovery Theater" data-type="video" data-gatotv-url="discovery-theater" tabindex="0"><span class="channel-name">Discovery Theater</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.televisiongratishd2.com/discovery-tlc-en-vivo.html" data-name="Discovery TLC" data-type="video" data-gatotv-url="discovery-tlc" tabindex="0"><span class="channel-name">Discovery TLC(NO)</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.televisiongratishd2.com/id-investigation-en-vivo.html" data-name="ID Investigation" data-type="video" data-gatotv-url="investigation-discovery" tabindex="0"><span class="channel-name">ID Investigation(NO)</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.televisiongratishd2.com/discovery-turbo-en-vivo.html" data-name="Discovery Turbo" data-type="video" data-gatotv-url="discovery-turbo" tabindex="0"><span class="channel-name">Discovery Turbo(NO)</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.televisiongratishd2.com/discovery-home-and-health-en-vivo.html" data-name="Discovery H&H" data-type="video" data-gatotv-url="discovery-home-health" tabindex="0"><span class="channel-name">Discovery H&H(NO)</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.televisiongratishd2.com/discovery-a-y-e-en-vivo.html" data-name="Discovery A&E" data-type="video" data-gatotv-url="a-and-e" tabindex="0"><span class="channel-name">Discovery A&E(NO)</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/history-en-vivo.html" data-name="History" data-type="video" data-gatotv-url="history_chile" tabindex="0"><span class="channel-name">History</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/animal-planet-en-vivo.html" data-name="Animal Planet" data-type="video" data-gatotv-url="animal_planet_mexico" tabindex="0"><span class="channel-name">Animal Planet</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/nat-geo-en-vivo.html" data-name="National Geographic" data-type="video" data-gatotv-url="national_geographic_mexico" tabindex="0"><span class="channel-name">National Geographic</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://embed.sdfgnksbounce.com/embed2/natgeomundo.html" data-name="National Geographic Mundo" data-type="video" data-gatotv-url="nat-geo-wild" tabindex="0"><span class="channel-name">National Geographic Mundo(NO)</span><i class="fa-regular fa-star favorite-star"></i></div>
            </div>
        </div>
        <div class="category-item">
            <div class="tab-button" data-tab="tab4" tabindex="0">CINE</div>
            <div id="tab4" class="channel-list-container">
                <div class="channel-button" data-url="https://www.televisiongratishd2.com/dpelicula-en-vivo.html" data-name="DPELICULA" data-type="video" data-gatotv-url="dpelicula" tabindex="0"><span class="channel-name">DPELICULA(NO)</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/studio-universal-en-vivo.html" data-name="STUDIO UNIVERSAL" data-type="video" data-gatotv-url="studio_universal_mexico" tabindex="0"><span class="channel-name">STUDIO UNIVERSAL</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/universal-channel-en-vivo.html" data-name="UNIVERSAL TV" data-type="video" data-gatotv-url="universal_tv_mexico" tabindex="0"><span class="channel-name">UNIVERSAL TV</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.televisiongratishd2.com/universal-cinema-en-vivo.html" data-name="UNIVERSAL CINEMA" data-type="video" data-gatotv-url="universal-cinema" tabindex="0"><span class="channel-name">UNIVERSAL CINEMA(NO)</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/tnt-en-vivo.html" data-name="TNT" data-type="video" data-gatotv-url="tnt_mexico" tabindex="0"><span class="channel-name">TNT</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/tnt-series-en-vivo.html" data-name="TNT SERIES" data-type="video" data-gatotv-url="tnt_series" tabindex="0"><span class="channel-name">TNT SERIES</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/star-channel-en-vivo.html" data-name="STAR CHANNEL" data-type="video" data-gatotv-url="star_channel_mexico" tabindex="0"><span class="channel-name">STAR CHANNEL</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/cinemax-en-vivo.html" data-name="CINEMAX" data-type="video" data-gatotv-url="cinemax_chile" tabindex="0"><span class="channel-name">CINEMAX</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/cinecanal-en-vivo.html" data-name="CINECANAL" data-type="video" data-gatotv-url="cinecanal_chile" tabindex="0"><span class="channel-name">CINECANAL</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/space-en-vivo.html" data-name="SPACE" data-type="video" data-gatotv-url="space_chile" tabindex="0"><span class="channel-name">SPACE</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/warner-bros-tv-mexico-en-vivo.html" data-name="WARNER BROS TV" data-type="video" data-gatotv-url="warner_tv_chile" tabindex="0"><span class="channel-name">WARNER BROS TV</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/fx-en-vivo.html" data-name="FX" data-type="video" data-gatotv-url="fx_chile" tabindex="0"><span class="channel-name">FX</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/axn-en-vivo.html" data-name="AXN" data-type="video" data-gatotv-url="axn_chile" tabindex="0"><span class="channel-name">AXN</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/amc-en-vivo.html" data-name="AMC" data-type="video" data-gatotv-url="amc_chile" tabindex="0"><span class="channel-name">AMC</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/golden-plus-en-vivo.html" data-name="GOLDEN PLUS" data-type="video" data-gatotv-url="golden_plus" tabindex="0"><span class="channel-name">GOLDEN PLUS</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/golden-edge-en-vivo.html" data-name="GOLDEN EDGE" data-type="video" data-gatotv-url="golden_edge" tabindex="0"><span class="channel-name">GOLDEN EDGE</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/golden-premier-en-vivo.html" data-name="GOLDEN PREMIER" data-type="video" data-gatotv-url="golden_premier" tabindex="0"><span class="channel-name">GOLDEN PREMIER</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/golden-premier-2-en-vivo.html" data-name="GOLDEN PREMIER 2" data-type="video" data-gatotv-url="golden_premier_2" tabindex="0"><span class="channel-name">GOLDEN PREMIER 2</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/multipremier-en-vivo.html" data-name="MULTIPREMIER" data-type="video" data-gatotv-url="multipremier" tabindex="0"><span class="channel-name">MULTIPREMIER</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://www.cablevisionhd.com/canal-sony-en-vivo.html" data-name="CANAL SONY" data-type="video" data-gatotv-url="sony_chile" tabindex="0"><span class="channel-name">CANAL SONY</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://embed.sdfgnksbounce.com/embed2/paramountchannel.html" data-name="PARAMOUNT CHANNEL" data-type="video" data-gatotv-url="paramount-channel" tabindex="0"><span class="channel-name">PARAMOUNT CHANNEL(NO)</span><i class="fa-regular fa-star favorite-star"></i></div>
            </div>
        </div>
        <div class="category-item">
            <div class="tab-button" data-tab="tab5" tabindex="0">DEPORTES</div>
            <div id="tab5" class="channel-list-container">
                <div class="channel-button" data-url="https://embed.sdfgnksbounce.com/embed2/espn.html" data-name="ESPN" data-type="video" data-gatotv-url="espn" tabindex="0"><span class="channel-name">ESPN(NO)</span><i class="fa-regular fa-star favorite-star"></i></div>
            </div>
        </div>
        <div class="category-item">
            <div class="tab-button" data-tab="tab6" tabindex="0">RADIO EN VIVO</div>
            <div id="tab6" class="channel-list-container">
                </div>
        </div>
        <div class="category-item">
            <div class="tab-button" data-tab="tab7" tabindex="0">ADULTO</div>
            <div id="tab7" class="channel-list-container">
                <div class="channel-button" data-url="https://hochu.tv/brazzers-tv-europe.html" data-name="Brazzers TV Europe" data-type="video" tabindex="0"><span class="channel-name">Brazzers TV Europe</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/o-la-la.html" data-name="Reloj O-la-la" data-type="video" tabindex="0"><span class="channel-name">Reloj O-la-la</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/hustler-hd.html" data-name="Hustler" data-type="video" tabindex="0"><span class="channel-name">Hustler HD</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/blue-hustler.html" data-name="Blue Hustler" data-type="video" tabindex="0"><span class="channel-name">Blue Hustler</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/fap-tv-anal.html" data-name="FAP TV Anal" data-type="video" tabindex="0"><span class="channel-name">FAP TV Anal</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/private-tv.html" data-name="Private TV" data-type="video" tabindex="0"><span class="channel-name">Private TV</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/penthouse-1.html" data-name="Penthouse Gold" data-type="video" tabindex="0"><span class="channel-name">Penthouse Gold</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/oh-ah-hd.html" data-name="ОХ-АХ HD" data-type="video" tabindex="0"><span class="channel-name">ОХ-АХ HD</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/fap-tv-parody.html" data-name="FAP TV Parody" data-type="video" tabindex="0"><span class="channel-name">FAP TV Parody</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/redlight-hd.html" data-name="Redlight HD" data-type="video" tabindex="0"><span class="channel-name">Redlight HD</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/penthouse-2.html" data-name="Penthouse Quickies" data-type="video" tabindex="0"><span class="channel-name">Penthouse Quickies</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/playboy-tv.html" data-name="Playboy" data-type="video" tabindex="0"><span class="channel-name">Playboy</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/kinoxxx.html" data-name="KinoXXX" data-type="video" tabindex="0"><span class="channel-name">KinoXXX</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/xy-max.html" data-name="XY Max" data-type="video" tabindex="0"><span class="channel-name">XY Max</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/babes-tv.html" data-name="Babes TV" data-type="video" tabindex="0"><span class="channel-name">Babes TV</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/fap-tv-compilation.html" data-name="FAP TV Compilation" data-type="video" tabindex="0"><span class="channel-name">FAP TV Compilation</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/vivid-red.html" data-name="Vivid Red" data-type="video" tabindex="0"><span class="channel-name">Vivid Red</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/fap-tv-2.html" data-name="FAP TV 2" data-type="video" tabindex="0"><span class="channel-name">FAP TV 2</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/fap-tv-3.html" data-name="FAP TV 3" data-type="video" tabindex="0"><span class="channel-name">FAP TV 3</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/fap-tv-4.html" data-name="FAP TV 4" data-type="video" tabindex="0"><span class="channel-name">FAP TV 4</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/barely-legal-tv.html" data-name="Barely Legal TV" data-type="video" tabindex="0"><span class="channel-name">Barely Legal TV</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/extasy-hd.html" data-name="Extasy HD" data-type="video" tabindex="0"><span class="channel-name">Extasy HD</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/pink-o-tv.html" data-name="Pink O TV" data-type="video" tabindex="0"><span class="channel-name">Pink O TV</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/brazzers-tv.html" data-name="Brazzers" data-type="video" tabindex="0"><span class="channel-name">Brazzers</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/fap-tv-teens.html" data-name="FAP TV Teens" data-type="video" tabindex="0"><span class="channel-name">FAP TV Teens</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/fap-tv-lesbian.html" data-name="FAP TV Lesbian" data-type="video" tabindex="0"><span class="channel-name">FAP TV Lesbian</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/teen-porn.html" data-name="Teen Porn" data-type="video" tabindex="0"><span class="channel-name">Teen Porn</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/threesome-porn.html" data-name="Threesome Porn" data-type="video" tabindex="0"><span class="channel-name">Threesome Porn</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/amateur-porn.html" data-name="Amateur Porn" data-type="video" tabindex="0"><span class="channel-name">Amateur Porn</span><i class="fa-regular fa-star favorite-star"></i></div>
                <div class="channel-button" data-url="https://hochu.tv/gangbang-porn.html" data-name="Gangbang Porn" data-type="video" tabindex="0"><span class="channel-name">Gangbang Porn</span><i class="fa-regular fa-star favorite-star"></i></div>
            </div>
        </div>
    </aside>

    <main class="right-panel">
        <div class="info-bar">
            <span id="channel-name-display"></span>
            <button id="guide-button">Ver Guía de TV</button>
        </div>

        <div id="player-container" class="video-container">
            <iframe id="player-iframe" src="" allowfullscreen></iframe>
        </div>
        
        <div id="radio-container">
            <div class="radio-tabs-container">
                <button onclick="showRadio('radio1')" id="btn-radio1" class="active" data-name="Melodía AM" data-type="radio">Melodía AM</button>
                <button onclick="showRadio('radio2')" id="btn-radio2" data-name="Melodía FM" data-type="radio">Melodía FM</button>
                <button onclick="showRadio('radio3')" id="btn-radio3" data-name="Radio Sicuani" data-type="radio">Radio Sicuani</button>
                <button onclick="showRadio('radio4')" id="btn-radio4" data-name="Radio Pachatusan" data-type="radio">Radio Pachatusan</button>
                <button onclick="showRadio('radio5')" id="btn-radio5" data-name="Radio Pachatusan 2" data-type="radio">Radio Pachatusan 2</button>
                <button onclick="showRadio('radio6')" id="btn-radio6" data-name="Radio Sicuani 2" data-type="radio">Radio Sicuani 2</button>
            </div>
            
            <div id="radio1" class="radio-content active">
                <div class="radio-player-box">
                    <img src="https://estacionesfm.com/imgfm/imgfm/radio_melodia_FM_86787774444.png" alt="Radio Melodía" />
                    <h3>Radio Melodía</h3>
                    <p>1220 AM</p>
                    <audio controls>
                        <source src="https://stream.radiomelodia.com.pe:8010/radio.mp3" type="audio/mpeg">
                    </audio>
                </div>
            </div>
            
            <div id="radio2" class="radio-content">
                <div class="radio-player-box">
                    <img src="https://estacionesfm.com/imgfm/imgfm/radio_melodia_FM_86787774444.png" alt="Radio Melodía FM" />
                    <h3>Radio Melodía FM</h3>
                    <p>104.3 FM</p>
                    <audio controls>
                        <source src="https://stream.radiomelodia.com.pe:8000/radio.mp3" type="audio/mpeg">
                    </audio>
                </div>
            </div>
            
            <div id="radio3" class="radio-content">
                <div class="radio-player-box">
                    <img src="https://estacionesfm.com/imgfm/imgfm/radio_sicuani_4111xx.png" alt="Radio Sicuani" />
                    <h3>Radio Sicuani</h3>
                    <p>1360 AM</p>
                    <audio controls>
                        <source src="https://live.radiotv.net.pe/8044/stream" type="audio/mpeg">
                    </audio>
                </div>
            </div>

            <div id="radio4" class="radio-content">
                <div class="radio-player-box">
                    <img src="https://estacionesfm.com/imgfm/imgfm/radio_pachatusan_xx1x1.png" alt="Radio Pachatusan" />
                    <h3>Radio Pachatusan</h3>
                    <p>1240 AM</p>
                    <audio controls>
                        <source src="https://stream.zeno.fm/sgcezjap5mntv" type="audio/mpeg">
                    </audio>
                </div>
            </div>

            <div id="radio5" class="radio-content">
                <div class="radio-player-box">
                    <img src="https://estacionesfm.com/imgfm/imgfm/radio_pachatusan_xx1x1.png" alt="Radio Pachatusan" />
                    <h3>Radio Pachatusan 2</h3>
                    <p>1240 AM</p>
                    <audio controls>
                        <source src="https://stream.zeno.fm/sgcezjap5mntv" type="audio/mpeg">
                    </audio>
                </div>
            </div>

            <div id="radio6" class="radio-content">
                <div class="radio-player-box">
                    <img src="https://estacionesfm.com/imgfm/imgfm/radio_sicuani_4111xx.png" alt="Radio Sicuani" />
                    <h3>Radio Sicuani 2</h3>
                    <p>1360 AM</p>
                    <audio controls>
                        <source src="https://live.radiotv.net.pe/8044/stream" type="audio/mpeg">
                    </audio>
                </div>
            </div>
        </div>
    </main>

    <div id="passwordModal" class="password-modal">
        <div class="password-box">
            <h2>Acceso a Contenido Adulto</h2>
            <p>Ingrese la contraseña para continuar:</p>
            <input type="password" id="passwordInput" placeholder="Contraseña" />
            <button onclick="verificarContrasena()">Acceder</button>
            <div id="errorMessage" class="error-message">Contraseña incorrecta. Intente nuevamente.</div>
        </div>
    </div>
    
    <div id="guideModal" class="guide-modal">
        <div class="guide-modal-content">
            <button class="guide-modal-close-btn" onclick="closeGuideModal()">&times;</button>
            <iframe id="guide-modal-iframe" class="guide-modal-iframe" src="" allowfullscreen></iframe>
        </div>
    </div>

    <script>
        let accesoAdultoConcedido = false;
        const panelIzquierdo = document.querySelector('.left-panel');
        const contenidoCanales = document.querySelectorAll('.channel-list-container');
        const playerContainer = document.getElementById('player-container');
        const radioContainer = document.getElementById('radio-container');
        const modalContrasena = document.getElementById('passwordModal');
        const entradaContrasena = document.getElementById('passwordInput');
        const mensajeError = document.getElementById('errorMessage');
        const favoritesList = document.getElementById('tab8');
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const searchInput = document.getElementById('searchInput');
        const allButtons = document.querySelectorAll('.channel-button');
        const allTabs = document.querySelectorAll('.tab-button');
        const guideButton = document.getElementById('guide-button');
        const channelNameDisplay = document.getElementById('channel-name-display');
        const playerIframe = document.getElementById('player-iframe');
        const guideModal = document.getElementById('guideModal');
        const guideModalIframe = document.getElementById('guide-modal-iframe');
        
        let currentVideoChannelData = null;

        // Lógica del menú móvil
        hamburgerBtn.addEventListener('click', () => {
            panelIzquierdo.classList.toggle('active');
        });

        // Ocultar menú en móviles al hacer clic en un canal
        const allChannelButtons = document.querySelectorAll('.channel-button');
        allChannelButtons.forEach(button => {
            button.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    panelIzquierdo.classList.remove('active');
                }
            });
        });
        
        searchInput.addEventListener('input', () => {
            const query = searchInput.value.toLowerCase();
            const allLists = document.querySelectorAll('.channel-list-container');
            
            if (query === '') {
                allLists.forEach(list => list.classList.remove('active'));
                const activeTab = document.querySelector('.tab-button.active');
                if (activeTab) {
                    document.getElementById(activeTab.dataset.tab).classList.add('active');
                }
                allTabs.forEach(tab => tab.style.display = 'flex');
                allButtons.forEach(button => button.style.display = 'flex');
            } else {
                allLists.forEach(list => list.classList.remove('active'));
                allTabs.forEach(tab => tab.style.display = 'none');
                
                allButtons.forEach(button => {
                    const buttonText = button.querySelector('.channel-name').textContent.toLowerCase();
                    const parentList = button.closest('.channel-list-container');
                    const parentTab = document.querySelector(`[data-tab="${parentList.id}"]`);
                    
                    if (buttonText.includes(query)) {
                        button.style.display = 'flex';
                        parentList.classList.add('active');
                        if (parentTab) {
                            parentTab.style.display = 'flex';
                        }
                    } else {
                        button.style.display = 'none';
                    }
                });
                
                allLists.forEach(list => {
                    const visibleButtons = list.querySelectorAll('.channel-button[style*="flex"]');
                    if (visibleButtons.length === 0) {
                        list.classList.remove('active');
                        const parentTab = document.querySelector(`[data-tab="${list.id}"]`);
                        if (parentTab) {
                            parentTab.style.display = 'none';
                        }
                    }
                });
            }
        });

        function saveFavorites(favorites) {
            localStorage.setItem('favorites', JSON.stringify(favorites));
        }

        function getFavorites() {
            const storedFavorites = localStorage.getItem('favorites');
            return storedFavorites ? JSON.parse(storedFavorites) : [];
        }

        function renderFavorites() {
            const favorites = getFavorites();
            favoritesList.innerHTML = '';
            
            if (favorites.length === 0) {
                favoritesList.innerHTML = '<p style="text-align: center; color: #888; font-style: italic;">No hay favoritos guardados.</p>';
            }

            favorites.forEach(fav => {
                const favButton = document.createElement('div');
                favButton.className = 'channel-button is-favorite';
                favButton.dataset.url = fav.url;
                favButton.dataset.name = fav.name;
                favButton.dataset.type = fav.type;
                favButton.dataset.gatotvUrl = fav.gatotvUrl;
                favButton.setAttribute('tabindex', '0');
                favButton.innerHTML = `<span class="channel-name">${fav.name}</span><i class="fa-solid fa-star favorite-star is-favorite"></i>`;
                favoritesList.appendChild(favButton);
            });
        }

        function toggleFavorite(button) {
            const name = button.dataset.name;
            const url = button.dataset.url;
            const type = button.dataset.type;
            const gatotvUrl = button.dataset.gatotvUrl || null;
            let favorites = getFavorites();
            
            const existingFavIndex = favorites.findIndex(fav => fav.name === name);
            
            if (existingFavIndex === -1) {
                favorites.push({ name, url, type, gatotvUrl });
                button.classList.add('is-favorite');
                const starIcon = button.querySelector('.favorite-star');
                if (starIcon) {
                    starIcon.classList.remove('fa-regular');
                    starIcon.classList.add('fa-solid', 'is-favorite');
                }
            } else {
                favorites.splice(existingFavIndex, 1);
                button.classList.remove('is-favorite');
                const starIcon = button.querySelector('.favorite-star');
                if (starIcon) {
                    starIcon.classList.remove('fa-solid', 'is-favorite');
                    starIcon.classList.add('fa-regular');
                }
            }
            saveFavorites(favorites);
            renderFavorites();
            if (document.querySelector('.tab-button.active').dataset.tab === 'tab8') {
                const currentFocusName = document.activeElement.dataset.name;
                renderFavorites();
                if (currentFocusName) {
                    const newFocusedElement = document.querySelector(`.channel-button[data-name="${currentFocusName}"]`);
                    if (newFocusedElement) {
                        newFocusedElement.focus();
                    }
                }
            }
        }

        function checkInitialFavorites() {
            const favorites = getFavorites();
            favorites.forEach(fav => {
                const matchingButton = document.querySelector(`.channel-button[data-name="${fav.name}"]`);
                if (matchingButton) {
                    matchingButton.classList.add('is-favorite');
                    const star = matchingButton.querySelector('.favorite-star');
                    star.classList.remove('fa-regular');
                    star.classList.add('fa-solid', 'is-favorite');
                }
            });
        }
        
        panelIzquierdo.addEventListener('click', (e) => {
            const botonPestana = e.target.closest('.tab-button');
            const botonCanal = e.target.closest('.channel-button');
            const starIcon = e.target.closest('.favorite-star');
            
            if (starIcon) {
                const button = starIcon.closest('.channel-button');
                toggleFavorite(button);
                e.stopPropagation();
                return;
            }

            searchInput.value = '';
            allTabs.forEach(tab => tab.style.display = 'flex');
            allButtons.forEach(button => button.style.display = 'flex');

            if (botonPestana) {
                const idDePestana = botonPestana.dataset.tab;
                const listaActual = document.getElementById(idDePestana);
                const isActive = listaActual.classList.contains('active');

                contenidoCanales.forEach(lista => lista.classList.remove('active'));
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));

                if (!isActive) {
                    listaActual.classList.add('active');
                    botonPestana.classList.add('active');
                    
                    if (idDePestana === 'tab7') {
                        if (accesoAdultoConcedido) {
                            const primerCanalAdulto = document.querySelector('#tab7 .channel-button');
                            if (primerCanalAdulto) {
                                cargarContenido('video', primerCanalAdulto.dataset.url, primerCanalAdulto.dataset.gatotvUrl, primerCanalAdulto.dataset.name);
                            }
                        } else {
                            listaActual.classList.remove('active');
                            modalContrasena.style.display = 'flex';
                            playerIframe.src = '';
                            channelNameDisplay.style.display = 'none';
                            guideButton.style.display = 'none';
                            entradaContrasena.focus();
                        }
                    } else if (idDePestana === 'tab6') {
                        cargarContenido('radio', 'radio1', null, 'Radio en vivo');
                        document.querySelector('#btn-radio1').focus();
                    } else if (idDePestana === 'tab8') {
                        const primerFavorito = document.querySelector('#tab8 .channel-button');
                        if (primerFavorito) {
                            cargarContenido(primerFavorito.dataset.type, primerFavorito.dataset.url, primerFavorito.dataset.gatotvUrl, primerFavorito.dataset.name);
                            primerFavorito.focus();
                        } else {
                            playerIframe.src = '';
                            channelNameDisplay.style.display = 'none';
                            guideButton.style.display = 'none';
                        }
                    } else {
                        const primerCanal = document.querySelector(`#${idDePestana} .channel-button`);
                        if (primerCanal) {
                            cargarContenido('video', primerCanal.dataset.url, primerCanal.dataset.gatotvUrl, primerCanal.dataset.name);
                            primerCanal.focus();
                        }
                    }
                } else {
                    if (idDePestana === 'tab6') {
                        radioContainer.style.display = 'none';
                        channelNameDisplay.style.display = 'none';
                        document.querySelectorAll('#radio-container audio').forEach(audio => {
                            audio.pause();
                            audio.currentTime = 0;
                        });
                    } else {
                        playerIframe.src = '';
                        channelNameDisplay.style.display = 'none';
                    }
                    guideButton.style.display = 'none';
                }
            } else if (botonCanal) {
                const url = botonCanal.dataset.url;
                const type = botonCanal.dataset.type;
                const gatotvUrl = botonCanal.dataset.gatotvUrl || null;
                const name = botonCanal.dataset.name;
                
                cargarContenido(type, url, gatotvUrl, name);
            }
        });
        
        guideButton.addEventListener('click', () => {
            if (currentVideoChannelData && currentVideoChannelData.gatotvUrl) {
                guideModal.style.display = 'flex';
            }
        });

        function closeGuideModal() {
            guideModal.style.display = 'none';
        }

        function showRadio(id) {
            document.querySelectorAll('#radio-container audio').forEach(audio => {
                audio.pause();
                audio.currentTime = 0;
            });
            document.querySelectorAll('.radio-content').forEach(r => r.classList.remove('active'));
            document.querySelectorAll('.radio-tabs-container button').forEach(b => b.classList.remove('active'));
            
            const selectedRadio = document.getElementById(id);
            if (selectedRadio) {
                selectedRadio.classList.add('active');
                const audioPlayer = selectedRadio.querySelector('audio');
                if (audioPlayer) {
                    audioPlayer.play();
                }
            }
            document.getElementById('btn-' + id).classList.add('active');
        }

        function cargarContenido(tipo, urlOrId, gatotvUrl, channelName) {
            document.querySelectorAll('#radio-container audio').forEach(audio => {
                audio.pause();
                audio.currentTime = 0;
            });
            
            closeGuideModal();

            if (tipo === 'video') {
                radioContainer.style.display = 'none';
                playerContainer.style.display = 'block';
                playerIframe.src = urlOrId;
                currentVideoChannelData = { url: urlOrId, gatotvUrl: gatotvUrl };
                
                channelNameDisplay.textContent = channelName;
                channelNameDisplay.style.display = 'block';
                
                guideButton.style.display = gatotvUrl ? 'block' : 'none';
                if (gatotvUrl) {
                    guideModalIframe.src = `https://www.gatotv.com/canal/${gatotvUrl}`;
                }
            } else if (tipo === 'radio') {
                playerContainer.style.display = 'none';
                radioContainer.style.display = 'flex';
                showRadio(urlOrId);
                
                channelNameDisplay.textContent = channelName;
                channelNameDisplay.style.display = 'block';
                guideButton.style.display = 'none';
            }
        }

        function verificarContrasena() {
            const contrasena = entradaContrasena.value;
            if (contrasena === 'look') {
                accesoAdultoConcedido = true;
                modalContrasena.style.display = 'none';
                document.querySelector('.tab-button[data-tab="tab7"]').click();
                mensajeError.style.display = 'none';
            } else {
                mensajeError.style.display = 'block';
                entradaContrasena.value = '';
                entradaContrasena.focus();
            }
        }

        modalContrasena.addEventListener('click', (e) => {
            if (e.target === modalContrasena) {
                modalContrasena.style.display = 'none';
                mensajeError.style.display = 'none';
            }
        });

        entradaContrasena.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                verificarContrasena();
            }
        });

        document.addEventListener('keydown', (e) => {
            const activeElement = document.activeElement;
            const tabButtons = Array.from(document.querySelectorAll('.tab-button'));
            const focusedTabIndex = tabButtons.indexOf(activeElement);
            
            if (modalContrasena.style.display === 'flex' && e.key === 'Escape') {
                modalContrasena.style.display = 'none';
                mensajeError.style.display = 'none';
                document.querySelector('.tab-button.active').focus();
                return;
            }
            
            if (activeElement.classList.contains('tab-button')) {
                let nextTabIndex;
                if (e.key === 'ArrowRight') {
                    nextTabIndex = (focusedTabIndex + 1) % tabButtons.length;
                    tabButtons[nextTabIndex].focus();
                } else if (e.key === 'ArrowLeft') {
                    nextTabIndex = (focusedTabIndex - 1 + tabButtons.length) % tabButtons.length;
                    tabButtons[nextTabIndex].focus();
                } else if (e.key === 'Enter' || e.key === 'Space') {
                    activeElement.click();
                    e.preventDefault();
                }
            } else if (activeElement.classList.contains('channel-button')) {
                const currentChannelList = activeElement.closest('.channel-list-container');
                const channelButtons = Array.from(currentChannelList.querySelectorAll('.channel-button'));
                const focusedChannelIndex = channelButtons.indexOf(activeElement);

                if (e.key === 'ArrowDown') {
                    const nextIndex = (focusedChannelIndex + 1) % channelButtons.length;
                    channelButtons[nextIndex].focus();
                } else if (e.key === 'ArrowUp') {
                    const nextIndex = (focusedChannelIndex - 1 + channelButtons.length) % channelButtons.length;
                    channelButtons[nextIndex].focus();
                } else if (e.key === 'Enter' || e.key === 'Space') {
                    activeElement.click();
                    e.preventDefault();
                } else if (e.key === 'f') {
                    toggleFavorite(activeElement);
                    e.preventDefault();
                }
            } else if (activeElement.id === 'passwordInput' && e.key === 'Enter') {
                verificarContrasena();
            }
        });

        window.onload = function() {
            checkInitialFavorites();
            renderFavorites();

            const favoritesTab = document.querySelector('.tab-button[data-tab="tab8"]');
            const favoritesListContainer = document.getElementById('tab8');
            
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.channel-list-container').forEach(list => list.classList.remove('active'));
            
            favoritesTab.classList.add('active');
            favoritesListContainer.classList.add('active');
            favoritesTab.focus();

            const primerFavorito = document.querySelector('#tab8 .channel-button');
            if (primerFavorito) {
                cargarContenido(primerFavorito.dataset.type, primerFavorito.dataset.url, primerFavorito.dataset.gatotvUrl, primerFavorito.dataset.name);
            } else {
                playerIframe.src = '';
                radioContainer.style.display = 'none';
                guideButton.style.display = 'none';
                channelNameDisplay.style.display = 'none';
            }
        };
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</body>
</html>
